{"version":3,"sources":["../../../src/components/Form/FormField.js"],"names":["DefaultModelFormLayout","labelCol","span","wrapperCol","FormField","props","action","children","required","rules","label","itemRules","unshift","message","omitProps","filloutRules","renderChildren","Component","propTypes","PropTypes","any","help","array","valuePropName","element","block","bool"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAKA;;AACA;;AACA;;AACA;;;;;;;;;;AAEA,IAAMA,sBAAsB,GAAG;AAC7BC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GADmB;AAE7BC,EAAAA,UAAU,EAAE;AAAED,IAAAA,IAAI,EAAE;AAAR;AAFiB,CAA/B;AAKA;;;;IAGqBE,S;;;;;;;;;;;;qCAGF;AAAA,wBACc,KAAKC,KADnB;AAAA,UACPC,MADO,eACPA,MADO;AAAA,UACCC,QADD,eACCA,QADD,EAGf;;AACA,UAAI,CAACD,MAAL,EAAa;AACX,eAAOC,QAAP;AACD,OANc,CAQf;;;AACA,0BACE,gCAAC,SAAD;AAAK,QAAA,MAAM,EAAE;AAAb,sBACE,gCAAC,SAAD;AAAK,QAAA,IAAI,EAAE;AAAX,SAAgBA,QAAhB,CADF,eAEE,gCAAC,SAAD;AAAK,QAAA,IAAI,EAAE;AAAX,SAAeD,MAAf,CAFF,CADF;AAMD;;;mCAEc;AAAA,yBAC2B,KAAKD,KADhC;AAAA,UACLG,QADK,gBACLA,QADK;AAAA,UACKC,KADL,gBACKA,KADL;AAAA,4CACYC,KADZ;AAAA,UACYA,KADZ,mCACoB,EADpB;AAEb,UAAMC,SAAS,GAAGF,KAAK,IAAI,EAA3B;;AACA,UAAID,QAAJ,EAAc;AACZG,QAAAA,SAAS,CAACC,OAAV,CAAkB;AAAEJ,UAAAA,QAAQ,EAAE,IAAZ;AAAkBK,UAAAA,OAAO,YAAKH,KAAL;AAAzB,SAAlB;AACD;;AACD,aAAOC,SAAP;AACD;;;6BAEQ;AACP,UAAMG,SAAS,GAAG,uBAAM,KAAKT,KAAX,EAAkB,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,CAAlB,CAAlB;AACA,UAAMI,KAAK,GAAG,KAAKM,YAAL,EAAd;;AACA,UAAMV,KAAK,iDACNL,sBADM,GAENc,SAFM;AAGTL,QAAAA,KAAK,EAALA;AAHS,QAAX;;AAMA,0BAAO,gCAAC,UAAD,CAAM,IAAN,EAAeJ,KAAf,EAAuB,KAAKW,cAAL,EAAvB,CAAP;AACD;;;EAvCoCC,gB;;;iCAAlBb,S,kBACG,E;AAyCxBA,SAAS,CAACc,SAAV,GAAsB;AACpB;;;AAGAV,EAAAA,QAAQ,EAAEW,sBAAUC,GAJA;;AAKpB;;;AAGAV,EAAAA,KAAK,EAAES,sBAAUC,GARG;;AASpB;;;AAGAC,EAAAA,IAAI,EAAEF,sBAAUC,GAZI;;AAcpB;;;AAGAX,EAAAA,KAAK,EAAEU,sBAAUG,KAjBG;;AAkBpB;;;AAGAC,EAAAA,aAAa,EAAEJ,sBAAUC,GArBL;;AAuBpB;;;AAGAd,EAAAA,MAAM,EAAEa,sBAAUK,OA1BE;;AA4BpB;;;AAGAC,EAAAA,KAAK,EAAEN,sBAAUO;AA/BG,CAAtB","sourcesContent":["/* eslint-disable react/require-default-props */\r\n/**\r\n * FormField\r\n * Created by pengj on 2018-4-29.\r\n */\r\nimport React, { Component } from \"react\";\r\nimport { Col, Form, Row } from \"antd\";\r\nimport PropTypes from \"prop-types\";\r\nimport _omit from \"lodash/omit\";\r\n\r\nconst DefaultModelFormLayout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 16 },\r\n};\r\n\r\n/**\r\n * 包装form.getFieldDecorator  和 From.Item\r\n */\r\nexport default class FormField extends Component {\r\n  static defaultProps = {};\r\n\r\n  renderChildren() {\r\n    const { action, children } = this.props;\r\n\r\n    // 如果没有action直接返回\r\n    if (!action) {\r\n      return children;\r\n    }\r\n\r\n    // 有action 做一层包装\r\n    return (\r\n      <Row gutter={4}>\r\n        <Col span={20}>{children}</Col>\r\n        <Col span={4}>{action}</Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  filloutRules() {\r\n    const { required, rules, label = \"\" } = this.props;\r\n    const itemRules = rules || [];\r\n    if (required) {\r\n      itemRules.unshift({ required: true, message: `${label}必须填写` });\r\n    }\r\n    return itemRules;\r\n  }\r\n\r\n  render() {\r\n    const omitProps = _omit(this.props, [\"rules\", \"action\", \"block\"]);\r\n    const rules = this.filloutRules();\r\n    const props = {\r\n      ...DefaultModelFormLayout,\r\n      ...omitProps,\r\n      rules,\r\n    };\r\n\r\n    return <Form.Item {...props}>{this.renderChildren()}</Form.Item>;\r\n  }\r\n}\r\n\r\nFormField.propTypes = {\r\n  /**\r\n   * 是否必填, 默认提示为 ${label}必须填写\r\n   */\r\n  required: PropTypes.any,\r\n  /**\r\n   *  Form.Item  label\r\n   */\r\n  label: PropTypes.any,\r\n  /**\r\n   * Form.Item  help\r\n   */\r\n  help: PropTypes.any,\r\n\r\n  /**\r\n   * Form.Item  rules\r\n   */\r\n  rules: PropTypes.array,\r\n  /**\r\n   * getFieldDecorator, options.valuePropName\r\n   */\r\n  valuePropName: PropTypes.any,\r\n\r\n  /**\r\n   * 在Form.Item 对象布局后提供一个action区\r\n   */\r\n  action: PropTypes.element,\r\n\r\n  /**\r\n   * 是否占整行,  必须在FormLayout下面才有用,  建议在FormLayout.cols = 2  4 的时候使用,  3 会有偏移\r\n   */\r\n  block: PropTypes.bool,\r\n};\r\n"],"file":"FormField.js"}