{"version":3,"sources":["../../../src/components/Form/FormField.js"],"names":["DefaultModelFormLayout","labelCol","span","wrapperCol","FormField","props","action","children","required","rules","label","itemRules","unshift","message","omitProps","filloutRules","renderChildren","Component","defaultProps","propTypes","PropTypes","any","help","array","valuePropName","element","block","bool"],"mappings":";;;;;;;;;;AAKA;;;;AACA;;AACA;;;;AACA;;;;;;;;;;+eARA;AACA;;;;;;AASA,IAAMA,yBAAyB;AAC7BC,YAAU,EAAEC,MAAM,CAAR,EADmB;AAE7BC,cAAY,EAAED,MAAM,EAAR;AAFiB,CAA/B;;AAKA;;;;IAGqBE,S;;;;;;;;;;;qCAqCF;AAAA,mBACc,KAAKC,KADnB;AAAA,UACPC,MADO,UACPA,MADO;AAAA,UACCC,QADD,UACCA,QADD;;AAGf;;AACA,UAAI,CAACD,MAAL,EAAa;AACX,eAAOC,QAAP;AACD;;AAED;AACA,aACE;AAAC,iBAAD;AAAA,UAAK,QAAQ,CAAb;AACE;AAAC,mBAAD;AAAA,YAAK,MAAM,EAAX;AAAgBA;AAAhB,SADF;AAEE;AAAC,mBAAD;AAAA,YAAK,MAAM,CAAX;AAAeD;AAAf;AAFF,OADF;AAMD;;;mCAEc;AAAA,oBAC2B,KAAKD,KADhC;AAAA,UACLG,QADK,WACLA,QADK;AAAA,UACKC,KADL,WACKA,KADL;AAAA,kCACYC,KADZ;AAAA,UACYA,KADZ,iCACoB,EADpB;;AAEb,UAAMC,YAAYF,SAAS,EAA3B;AACA,UAAID,QAAJ,EAAc;AACZG,kBAAUC,OAAV,CAAkB,EAAEJ,UAAU,IAAZ,EAAkBK,SAAYH,KAAZ,6BAAlB,EAAlB;AACD;AACD,aAAOC,SAAP;AACD;;;6BAEQ;AACP,UAAMG,YAAY,oBAAM,KAAKT,KAAX,EAAkB,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,CAAlB,CAAlB;AACA,UAAMI,QAAQ,KAAKM,YAAL,EAAd;AACA,UAAMV,qBACDL,sBADC,EAEDc,SAFC;AAGJL;AAHI,QAAN;;AAMA,aAAO;AAAC,kBAAD,CAAM,IAAN;AAAeJ,aAAf;AAAuB,aAAKW,cAAL;AAAvB,OAAP;AACD;;;;EAzEoCC,gB;;AAAlBb,S,CACZc,Y,GAAe,E;AADHd,S,CAGZe,S,GAAY;AACjB;;;AAGAX,YAAUY,oBAAUC,GAJH;AAKjB;;;AAGAX,SAAOU,oBAAUC,GARA;AASjB;;;AAGAC,QAAMF,oBAAUC,GAZC;;AAcjB;;;AAGAZ,SAAOW,oBAAUG,KAjBA;AAkBjB;;;AAGAC,iBAAeJ,oBAAUC,GArBR;;AAuBjB;;;AAGAf,UAAQc,oBAAUK,OA1BD;;AA4BjB;;;AAGAC,SAAON,oBAAUO;AA/BA,C;kBAHAvB,S","file":"FormField.js","sourcesContent":["/* eslint-disable react/require-default-props */\r\n/**\r\n * FormField\r\n * Created by pengj on 2018-4-29.\r\n */\r\nimport React, { Component } from \"react\";\r\nimport { Col, Form, Row } from \"antd\";\r\nimport PropTypes from \"prop-types\";\r\nimport _omit from \"lodash/omit\";\r\n\r\nconst DefaultModelFormLayout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 16 },\r\n};\r\n\r\n/**\r\n * 包装form.getFieldDecorator  和 From.Item\r\n */\r\nexport default class FormField extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {\r\n    /**\r\n     * 是否必填, 默认提示为 ${label}必须填写\r\n     */\r\n    required: PropTypes.any,\r\n    /**\r\n     *  Form.Item  label\r\n     */\r\n    label: PropTypes.any,\r\n    /**\r\n     * Form.Item  help\r\n     */\r\n    help: PropTypes.any,\r\n\r\n    /**\r\n     * Form.Item  rules\r\n     */\r\n    rules: PropTypes.array,\r\n    /**\r\n     * getFieldDecorator, options.valuePropName\r\n     */\r\n    valuePropName: PropTypes.any,\r\n\r\n    /**\r\n     * 在Form.Item 对象布局后提供一个action区\r\n     */\r\n    action: PropTypes.element,\r\n\r\n    /**\r\n     * 是否占整行,  必须在FormLayout下面才有用,  建议在FormLayout.cols = 2  4 的时候使用,  3 会有偏移\r\n     */\r\n    block: PropTypes.bool,\r\n  };\r\n\r\n  renderChildren() {\r\n    const { action, children } = this.props;\r\n\r\n    // 如果没有action直接返回\r\n    if (!action) {\r\n      return children;\r\n    }\r\n\r\n    // 有action 做一层包装\r\n    return (\r\n      <Row gutter={4}>\r\n        <Col span={20}>{children}</Col>\r\n        <Col span={4}>{action}</Col>\r\n      </Row>\r\n    );\r\n  }\r\n\r\n  filloutRules() {\r\n    const { required, rules, label = \"\" } = this.props;\r\n    const itemRules = rules || [];\r\n    if (required) {\r\n      itemRules.unshift({ required: true, message: `${label}必须填写` });\r\n    }\r\n    return itemRules;\r\n  }\r\n\r\n  render() {\r\n    const omitProps = _omit(this.props, [\"rules\", \"action\", \"block\"]);\r\n    const rules = this.filloutRules();\r\n    const props = {\r\n      ...DefaultModelFormLayout,\r\n      ...omitProps,\r\n      rules,\r\n    };\r\n\r\n    return <Form.Item {...props}>{this.renderChildren()}</Form.Item>;\r\n  }\r\n}\r\n"]}